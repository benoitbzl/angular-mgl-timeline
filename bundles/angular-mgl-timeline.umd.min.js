!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/animations"],e):e(t["angular-mgl-timeline"]={},t.ng.core,t.ng.animations)}(this,function(t,i,n){"use strict";var e=function o(){};e.decorators=[{type:i.Component,args:[{selector:"mgl-timeline-entry-header",template:"\n    <ng-content></ng-content>\n  ",styles:["\n    :host {\n      position: relative;\n      display: block;\n      overflow: hidden;\n      padding: 15px;\n      text-align: center; }\n  "]}]}],e.ctorParameters=function(){return[]};var s=function(){function t(t,e,n){this.animationBuilder=t,this.elementRef=e,this.renderer=n,this._expanded=!1,this._alternate=!1,this._mobile=!1,this._size=50,this.animationDone=new i.EventEmitter,this.color="primary"}return t.prototype.ngAfterViewInit=function(){this.initialStyle=window.getComputedStyle(this.elementRef.nativeElement),this.setStyle()},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this.setStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternate",{get:function(){return this._alternate},set:function(t){this._alternate=t,this.setStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mobile",{get:function(){return this._mobile},set:function(t){this._mobile=t,this.setStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(t){var e=this._expanded!==t;this._expanded=t,e?this.animate():this.setStyle()},enumerable:!0,configurable:!0}),t.prototype.getCollapsedStyle=function(){return{top:"50%",left:this.alternate||this.mobile?"-5px":"calc(100% + 5px)",width:this.size+"px",height:this.size+"px",opacity:1,transform:"translateY(-50%) translateX(-50%)",boxShadow:this.initialStyle&&this.initialStyle.boxShadow,borderRadius:"100px"}},t.prototype.getTransitionStyle=function(){return Object.assign({},this.getCollapsedStyle(),{left:"50%",opacity:.5,boxShadow:"none"})},t.prototype.getExpandedStyle=function(){return Object.assign({},this.getTransitionStyle(),{left:"0",transform:"translateX(0) translateY(-50%)",width:"100%",height:"100%",opacity:1,borderRadius:0})},t.prototype.animate=function(){var t=this;this.destroyAnimation(),this.expanded?(this.animation=this.animationBuilder.build([n.style(this.getCollapsedStyle()),n.animate("200ms ease",n.style(this.getTransitionStyle())),n.animate("200ms ease",n.style(this.getExpandedStyle()))]).create(this.elementRef.nativeElement),this.animation.onDone(function(){return t.animationDone.emit({toState:"expanded"})})):(this.animationBuilder,this.animation=this.animationBuilder.build([n.style(this.getExpandedStyle()),n.animate("100ms ease",n.style(this.getTransitionStyle())),n.animate("100ms ease",n.style(this.getCollapsedStyle()))]).create(this.elementRef.nativeElement),this.animation.onDone(function(){return t.animationDone.emit({toState:"collapsed"})})),this.animation.play()},t.prototype.setStyle=function(){var e=this;this.destroyAnimation();var n=this.expanded?this.getExpandedStyle():this.getCollapsedStyle();Object.keys(n).forEach(function(t){e.renderer.setElementStyle(e.elementRef.nativeElement,t,n[t])})},t.prototype.destroyAnimation=function(){this.animation&&(this.animation.destroy(),delete this.animation)},t}();s.decorators=[{type:i.Component,args:[{selector:"mgl-timeline-entry-dot",template:"\n    <ng-content></ng-content>\n  ",styles:["\n    :host {\n      display: block;\n      position: absolute; }\n  "]}]}],s.ctorParameters=function(){return[{type:n.AnimationBuilder},{type:i.ElementRef},{type:i.Renderer}]},s.propDecorators={color:[{type:i.Input},{type:i.HostBinding,args:["class"]}],size:[{type:i.Input}]};var r=function(){function t(t,e,n){this.elementRef=t,this.animationBuilder=e,this.renderer=n,this._expanded=!1,this.animationDone=new i.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.contentHeight=this.elementRef.nativeElement.scrollHeight,this.setStyle()},Object.defineProperty(t.prototype,"expanded",{get:function(){return this._expanded},set:function(t){this.contentHeight=this.elementRef.nativeElement.scrollHeight;var e=this._expanded!==t;this._expanded=t,e?this.animate():this.setStyle},enumerable:!0,configurable:!0}),t.prototype.getCollapsedStyle=function(){return{height:0}},t.prototype.getExpandedStyle=function(){return{height:this.contentHeight+"px"}},t.prototype.animate=function(){var t,e=this;this.expanded?((t=this.animationBuilder.build([n.style(this.getCollapsedStyle()),n.animate("100ms ease",n.style(this.getExpandedStyle()))]).create(this.elementRef.nativeElement)).onDone(function(){return e.animationDone.emit({toState:"expanded"})}),t.play()):(this.animationBuilder,(t=this.animationBuilder.build([n.style(this.getExpandedStyle()),n.animate("200ms ease",n.style(this.getCollapsedStyle()))]).create(this.elementRef.nativeElement)).onDone(function(){return e.animationDone.emit({toState:"collapsed"})}),t.play())},t.prototype.setStyle=function(){var e=this,n=this.expanded?this.getExpandedStyle():this.getCollapsedStyle();Object.keys(n).forEach(function(t){e.renderer.setElementStyle(e.elementRef.nativeElement,t,n[t])})},t}();r.decorators=[{type:i.Component,args:[{selector:"mgl-timeline-entry-content",template:"\n    <div><ng-content></ng-content></div>\n  ",styles:["\n    :host {\n      position: relative;\n      display: block;\n      overflow: hidden; }\n      :host > div {\n        padding: 10px; }\n  "]}]}],r.ctorParameters=function(){return[{type:i.ElementRef},{type:n.AnimationBuilder},{type:i.Renderer}]};var a=function l(){this.alternate=!1,this.mobile=!1};a.decorators=[{type:i.Component,args:[{selector:"mgl-timeline-entry-side",template:"\n    <ng-content></ng-content>\n  ",styles:["\n    :host {\n      position: absolute;\n      top: 0;\n      left: 100%;\n      width: 100%;\n      text-align: center; }\n      :host.alternate {\n        left: -100%; }\n      :host.mobile {\n        display: none; }\n  "]}]}],a.ctorParameters=function(){return[]},a.propDecorators={alternate:[{type:i.HostBinding,args:["class.alternate"]}],mobile:[{type:i.HostBinding,args:["class.mobile"]}]};var c=function(){function t(t){this.elementRef=t,this.subscriptions=[],this.focusOnOpen=!1,this._alternate=!1,this._mobile=!1,this.changed=new i.EventEmitter,this.animationDone=new i.EventEmitter}return Object.defineProperty(t.prototype,"expanded",{get:function(){return this.dot?this.dot.expanded&&this.content.expanded:this.content.expanded},set:function(t){this.dot&&t?this.dot.expanded=t:this.content.expanded=t,this.changed.emit(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternate",{get:function(){return this._alternate},set:function(t){var e=this;setTimeout(function(){e._alternate=t}),this.dot&&(this.dot.alternate=t),this.side&&(this.side.alternate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mobile",{get:function(){return this._mobile},set:function(t){var e=this;setTimeout(function(){e._mobile=t}),this.dot&&(this.dot.mobile=t),this.side&&(this.side.mobile=t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){var e=this;setTimeout(function(){e.dot&&e.subscriptions.push(e.dot.animationDone.subscribe(function(t){"expanded"===t.toState?e.content.expanded=!0:e.animationDone.emit(t)})),e.subscriptions.push(e.content.animationDone.subscribe(function(t){e.dot&&"collapsed"===t.toState?e.dot.expanded=!1:(e.focusOnOpen&&e.elementRef.nativeElement.scrollIntoView({behavior:"smooth"}),e.animationDone.emit(t))}))})},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.collapse=function(){this.expanded=!1},t.prototype.expand=function(){this.expanded=!0},t.prototype.toggle=function(){this.expanded=!this.expanded},t}();c.decorators=[{type:i.Component,args:[{selector:"mgl-timeline-entry",template:'\n    <ng-content select="mgl-timeline-entry-side"></ng-content>\n    <div class="mgl-timeline-entry-card">\n      <div class="mgl-timeline-entry-card-header" (click)="toggle()">\n        <ng-content select="mgl-timeline-entry-dot"></ng-content>\n        <ng-content select="mgl-timeline-entry-header"></ng-content>\n      </div>\n      <ng-content select="mgl-timeline-entry-content"></ng-content>\n    </div>\n  ',styles:["\n    /**\n     * Applies styles for users in high contrast mode. Note that this only applies\n     * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\n     * attribute, however Chrome handles high contrast differently.\n     */\n    /* Theme for the ripple elements.*/\n    /* stylelint-disable material/no-prefixes */\n    /* stylelint-enable */\n    :host {\n      display: block;\n      position: relative;\n      margin-bottom: 50px;\n      width: calc(50% - 5px); }\n      :host.alternate {\n        margin-left: calc(50% + 5px); }\n      :host.mobile {\n        width: calc(100% - 30px);\n        margin-left: 30px; }\n      :host .mgl-timeline-entry-card {\n        background-color: #f0f0f0; }\n        :host .mgl-timeline-entry-card .mgl-timeline-entry-card-header {\n          position: relative;\n          background-color: #e6e6e6; }\n  "]}]}],c.ctorParameters=function(){return[{type:i.ElementRef}]},c.propDecorators={alternate:[{type:i.HostBinding,args:["class.alternate"]}],mobile:[{type:i.HostBinding,args:["class.mobile"]}],changed:[{type:i.Output}],animationDone:[{type:i.Output}],content:[{type:i.ContentChild,args:[r]}],header:[{type:i.ContentChild,args:[e]}],dot:[{type:i.ContentChild,args:[s]}],side:[{type:i.ContentChild,args:[a]}]};var p=function(){function t(t){this.elementRef=t,this.toggle=!0,this.alternate=!0,this.start="left",this._mobile=!1,this._focusOnOpen=!1,this.subscriptions=[]}return Object.defineProperty(t.prototype,"mobile",{get:function(){return this._mobile},set:function(e){var t=this;e!==this._mobile&&this.content&&this.content.forEach(function(t){return t.mobile=e}),setTimeout(function(){t._mobile=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusOnOpen",{get:function(){return this._focusOnOpen},set:function(e){this.content&&this.content.forEach(function(t){return t.focusOnOpen=e}),this._focusOnOpen=e},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateContent()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.ngAfterViewInit=function(){var t=this;this.mobile=this.elementRef.nativeElement.clientWidth<640,setTimeout(function(){return t.updateContent()}),this.content.changes.subscribe(function(){return t.updateContent()})},t.prototype.updateContent=function(){var n=this;this.ngOnDestroy(),this.content&&this.content.forEach(function(e,t){n.toggle&&n.subscriptions.push(e.changed.subscribe(function(t){!0===t&&n.content.filter(function(t){return t!==e}).forEach(function(t){return t.collapse()})})),e.alternate=!!n.alternate&&t%2!=("left"===n.start?0:1),e.mobile=n.mobile,e.focusOnOpen=n.focusOnOpen})},t.prototype.onResize=function(t){this.mobile=this.elementRef.nativeElement.clientWidth<640},t}();p.decorators=[{type:i.Component,args:[{selector:"mgl-timeline",template:'\n    <div class="mgl-timeline-line"></div>\n    <ng-content></ng-content>\n  ',styles:["\n    /**\n     * Applies styles for users in high contrast mode. Note that this only applies\n     * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\n     * attribute, however Chrome handles high contrast differently.\n     */\n    /* Theme for the ripple elements.*/\n    /* stylelint-disable material/no-prefixes */\n    /* stylelint-enable */\n    :host {\n      position: relative;\n      display: block;\n      padding: 50px 0; }\n      :host .mgl-timeline-line {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        background-color: #a0a0a0;\n        left: 50%;\n        width: 10px;\n        -webkit-transform: translateX(-50%);\n                transform: translateX(-50%); }\n      :host.mobile .mgl-timeline-line {\n        left: 20px;\n        -webkit-transform: none;\n                transform: none; }\n  "]}]}],p.ctorParameters=function(){return[{type:i.ElementRef}]},p.propDecorators={toggle:[{type:i.Input}],alternate:[{type:i.Input}],start:[{type:i.Input}],mobile:[{type:i.HostBinding,args:["class.mobile"]}],focusOnOpen:[{type:i.Input}],content:[{type:i.ContentChildren,args:[c]}],onResize:[{type:i.HostListener,args:["window:resize"]}]};var h=function d(){};h.decorators=[{type:i.NgModule,args:[{declarations:[p,c,e,a,r,s],exports:[p,c,e,a,r,s]}]}],h.ctorParameters=function(){return[]},t.MglTimelineModule=h,t.ɵc=r,t.ɵe=s,t.ɵd=e,t.ɵf=a,t.ɵb=c,t.ɵa=p,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-mgl-timeline.umd.min.js.map
